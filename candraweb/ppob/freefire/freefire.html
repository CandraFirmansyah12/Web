<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WALAEWALLET • FF Diamonds</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="cssfreefire.css">

</head>
<body>
  <nav class="navbar navbar-dark shadow-sm">
    <div class="container">
      <a href="../ppob.html" class="btn btn-outline-light"><i class="bi bi-arrow-left"></i> PPOB</a>
      <span class="navbar-brand mb-0">WALAEWALLET</span>
    </div>
  </nav>

  <div class="banner">
    <h1>Dapatkan Diskon Diamond FF Sekarang!</h1>
    <button class="btn btn-buy mt-3">Beli Sekarang</button>
  </div>

  <div class="container my-4">
    <h5 class="text-white mb-3">💎 Pilih Diamond</h5>
    <div class="row g-2" id="diamond-options">
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="50">50 Diamonds<br><small>Rp7.000</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="70">70 Diamonds<br><small>Rp9.500</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="100">100 Diamonds<br><small>Rp13.500</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="140">140 Diamonds<br><small>Rp18.000</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="145">145 Diamonds<br><small>Rp19.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="150">150 Diamonds<br><small>Rp20.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="200">200 Diamonds<br><small>Rp26.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="210">210 Diamonds<br><small>Rp26.500</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="FF MEMBERSHIP MINGGUAN">FF MEMBERSHIP MINGGUAN<br><small>Rp27.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="280">280 Diamonds<br><small>Rp36.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="FF BP CARD">FF BP CARD<br><small>Rp41.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="355">355 Diamonds<br><small>Rp45.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="425">425 Diamonds<br><small>Rp53.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="500">500 Diamonds<br><small>Rp62.500</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="565">565 Diamonds<br><small>Rp71.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="FF MEMBERSHIP BULANAN">FF MEMBERSHIP BULANAN<br><small>Rp80.000</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="720">720 Diamonds<br><small>Rp88.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="1000">1000 Diamonds<br><small>Rp123.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="1075">1075 Diamonds<br><small>Rp132.000</small></button>
      </div>
        <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="1450">1450 Diamonds<br><small>Rp177.000</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="2000">2000 Diamonds<br><small>Rp244.000</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="2180">2180 Diamonds<br><small>Rp265.000</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="3640">3640 Diamonds<br><small>Rp441.000</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="7290">7290 Diamonds<br><small>Rp868.000</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="36500">36500 Diamonds<br><small>Rp4.410.000</small></button>
      </div>
      <div class="col-6 col-md-3">
        <button class="btn btn-outline-light w-100 py-3 diamond-btn" data-value="73100">73100 Diamonds<br><small>Rp8.810.000</small></button>
      </div>

      </div>
    </div>
  </div>

  <div class="form-card">
    <form id="topup-form">
      <h4 class="mb-4 text-center">Top Up Free Fire</h4>
      <input type="hidden" name="nominal" id="nominal-hidden" required />
      <div class="mb-3">
        <label class="form-label">Nickname</label>
        <input type="text" name="nama" class="form-control" placeholder="Masukkan nickname" required />
      </div>
      <div class="mb-3">
        <label class="form-label">ID Free Fire</label>
        <input type="text" name="id" class="form-control" placeholder="Contoh: 12345678" required />
      </div>
      <div class="mb-3">
        <label class="form-label">Metode Pembayaran</label>
        <select name="pembayaran" class="form-select" required>

          <option value="">-- Pilih --</option>
          <option value="QRIS">QRIS</option>
          <option value="DANA">DANA</option>
          <option value="SeaBank">SeaBank</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Bukti Transfer</label>
        <input type="file" name="bukti" class="form-control" accept="image/*" required />
      </div>
      <button type="submit" class="btn-submit">Kirim Pesanan</button>
    </form>
<div class="alert alert-info mt-3 d-none" id="process-msg">
  🔄 Pesanan kamu sedang diproses, tunggu sebentar ya...
</div>
  </div>

  <footer class="footer py-3 text-center">
    © 2025 WALAEWALLET – Cepat, Murah, Aman
  </footer>

  

<!-- Modal Pembayaran -->
<div class="modal fade" id="pembayaranModal" tabindex="-1" aria-labelledby="pembayaranLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-dark text-white border-0">
      <div class="modal-header border-0">
        <h5 class="modal-title" id="pembayaranLabel">Instruksi Pembayaran</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Tutup"></button>
      </div>
      <div class="modal-body text-center" id="pembayaranBody">
        <!-- Isi dinamis di-inject lewat JavaScript -->
      </div>
    </div>
  </div>
</div>

<!-- Modal Sukses Submit -->
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-dark text-white border-0">
      <div class="modal-header border-0">
        <h5 class="modal-title text-warning" id="successModalLabel">✅ Pesanan Diterima</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Tutup"></button>
      </div>
      <div class="modal-body text-center">
        <p>Pesanan kamu sedang diproses. Silakan tunggu konfirmasi dari admin.</p>
      </div>
    </div>
  </div>
</div>

  <script src="pemanggilan.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Logika tombol diamond
  document.querySelectorAll('.diamond-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.diamond-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById('nominal-hidden').value = btn.getAttribute('data-value');
      window.scrollTo({ top: document.getElementById('topup-form').offsetTop - 50, behavior: 'smooth' });
    });
  });

  // Handle submit form
  document.getElementById("topup-form").addEventListener("submit", async e => {
    e.preventDefault();
    const f = e.target;

    const nama = f.nama.value;
    const idff = f.id.value;
    const nominal = document.getElementById("nominal-hidden").value;
    const metode = f.pembayaran.value;
    const file = f.bukti.files[0];
    const token = "7831918844:AAHFLYmt__zF5sQErU5Zx6sux6BaPxUAbAw"; // GANTI dengan token bot Telegram kamu
    const chat_id = "6096477082"; // GANTI dengan chat ID kamu

    // 1. Kirim pesan ke Telegram
    const text = `📥 PESANAN FREE FIRE\n👤 ${nama}\n🆔 ${idff}\n💎 ${nominal} Diamond\n💰 Metode: ${metode}`;
    await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ chat_id, text })
    });

    // 2. Kirim bukti gambar ke Telegram
    const formData = new FormData();
    formData.append("chat_id", chat_id);
    formData.append("caption", `🖼️ Bukti transfer dari ${nama}`);
    formData.append("photo", file);

    fetch(`https://api.telegram.org/bot${token}/sendPhoto`, {
      method: "POST",
      body: formData
    })
    .then(res => res.json())
    .then(res => {
      if (res.ok) {
        // Tampilkan modal sukses
        const modal = new bootstrap.Modal(document.getElementById("successModal"));
        modal.show();

        // Reset form
        f.reset();
        document.getElementById("nominal-hidden").value = "";
        document.querySelectorAll(".diamond-btn").forEach(btn => btn.classList.remove("active"));
      } else {
        alert("❌ Gagal kirim gambar: " + JSON.stringify(res));
      }
    })
    .catch(err => {
      alert("❌ Error kirim ke Telegram: " + err.message);
    });
  });
</script>

</body>
</html>
